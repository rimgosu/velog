<h2 id="ëŒ€í‘œ-ì†Œê°œ">ëŒ€í‘œ ì†Œê°œ</h2>
<ul>
<li>hello ai ëŒ€í‘œ : <a href="https://helloai.kr/">https://helloai.kr/</a></li>
<li>ê¹€ì˜ìš± ëŒ€í‘œ ë§í¬ë“œì¸ : <a href="https://kr.linkedin.com/in/%EC%98%81%EC%9A%B1-%EA%B9%80-315a4831">https://kr.linkedin.com/in/%EC%98%81%EC%9A%B1-%EA%B9%80-315a4831</a></li>
<li>ê°•ì˜ ìë£Œ ê³µìœ (ì˜ìš±ë‹·ì»´) : <a href="https://blog.naver.com/warit">https://blog.naver.com/warit</a></li>
</ul>
<h1 id="azure">azure</h1>
<h2 id="1-ê¸°ë³¸-ì„¤ì •">1. ê¸°ë³¸ ì„¤ì •</h2>
<ul>
<li><a href="http://portal.azure.com">http://portal.azure.com</a></li>
<li>id : <a href="mailto:labuser93@snuailab.onmicrosoft.com">labuser93@snuailab.onmicrosoft.com</a> </li>
<li>pw : !Seoul2025</li>
</ul>
<h2 id="2-ë°ì´í„°-ì„¼í„°">2. ë°ì´í„° ì„¼í„°</h2>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/747590fe-0a66-434d-8c45-38eda85ef9d5/image.png" /></p>
<ul>
<li>ë°ì´í„° ì„¼í„° ìœ„ì¹˜ : <a href="https://datacenters.microsoft.com/globe/explore">https://datacenters.microsoft.com/globe/explore</a></li>
</ul>
<h2 id="3-azure-settings-âœï¸">3. azure settings âœï¸</h2>
<ol>
<li>ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ (ì‘ì—… ë°© - í• ë‹¹ : 93)
<img alt="" src="https://velog.velcdn.com/images/rimgosu/post/d03b38d7-12f3-4fd7-af8b-34d946e4ae7f/image.png" /></li>
</ol>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/b09836e9-a562-42c1-935f-87cacde26888/image.png" /></p>
<ol start="2">
<li><p>ubuntu ì„œë²„ ë§Œë“¤ê¸°
<img alt="" src="https://velog.velcdn.com/images/rimgosu/post/29bdbde2-ce91-4d3c-83e6-ce791fbef69f/image.png" />
<img alt="" src="https://velog.velcdn.com/images/rimgosu/post/0c349c9a-4c9a-4766-97fd-54e680be349c/image.png" /></p>
</li>
<li><p>ê°€ìƒ ë¨¸ì‹  ë§Œë“¤ê¸°
<img alt="" src="https://velog.velcdn.com/images/rimgosu/post/93f344f4-99ba-48ae-a433-aafc9e225862/image.png" /></p>
</li>
</ol>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/4bd57233-50f6-4437-b18f-53c364d19265/image.png" /></p>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/83308472-92fe-454a-bc7e-a73727baa4da/image.png" /></p>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/65864623-83d3-4873-a3e6-2bb0f8b9a3da/image.png" /></p>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/c4b0f4b7-7253-4b7a-970d-2ce01f442bbe/image.png" /></p>
<ol start="4">
<li>sshë¡œ ì—°ê²°
<img alt="" src="https://velog.velcdn.com/images/rimgosu/post/ef9f51f2-2475-47f8-99cf-90cce8e1207f/image.png" /></li>
</ol>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/e3b68a72-14e8-4deb-afb3-1b2fc643557d/image.png" /></p>
<pre><code>ssh -i ~/.ssh/id_rsa.pem winkey@20.200.217.203</code></pre><h2 id="4-linux-settings-ğŸ‘">4. linux settings ğŸ‘</h2>
<ol>
<li>apt-get ì—…ë°ì´íŠ¸<pre><code>sudo apt-get update
sudo apt-get upgrade</code></pre></li>
</ol>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/7de806f2-7696-44b7-8e2b-e508111712df/image.png" /></p>
<ul>
<li>tab - ok</li>
</ul>
<ol start="2">
<li>docker ì„¤ì¹˜ (ì•„ë˜ ë‚´ìš© ì°¸ì¡°)</li>
</ol>
<h1 id="ì»¨í…Œì´ë„ˆ">ì»¨í…Œì´ë„ˆ</h1>
<h2 id="1-ì„œë²„-ê°€ìƒí™”">1. ì„œë²„ ê°€ìƒí™”</h2>
<p><img alt="" src="https://velog.velcdn.com/images/rimgosu/post/0bcca659-4c88-4ac8-9736-b3364925f5d3/image.png" /></p>
<ul>
<li>Hosted Hypervisor Virtual Machine<ul>
<li>OS ìœ„ì— OSê°€ ì˜¬ë¼ê°ìœ¼ë¡œ ì„œë²„ ë¶€í•˜ê°€ ë§ì´ ìƒê¸´ë‹¤</li>
</ul>
</li>
<li>Container<ul>
<li>Host OS : ë¦¬ëˆ…ìŠ¤ OS</li>
<li>ê·¸ ìœ„ì— Containerê°€ ì˜¬ë¼ê°€ìˆê³ , Minimal Guest OSê°€ ì˜¬ë¼ê°€ëŠ” í˜•ì‹ì´ë‹¤. </li>
<li>ê¸°ë³¸ ê³µìœ  ìì› / ê°ê°ì˜ ê°œë³„ ìì›ìœ¼ë¡œ ë‚˜ëˆ”. ë²„ì „ì„ ê¸°ë³¸ì ìœ¼ë¡œ ê°ê° ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë˜‘ê°™ì€ í™˜ê²½ìœ¼ë¡œ ë°°í¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.</li>
</ul>
</li>
</ul>
<h2 id="2-docker-vs-ì¿ ë²„ë„¤í‹°ìŠ¤">2. docker vs ì¿ ë²„ë„¤í‹°ìŠ¤</h2>
<ul>
<li>ë„ì»¤ : ì»¨í…Œì´ë„ˆ í•˜ë‚˜ ê´€ë¦¬<ul>
<li>ì†Œ í•œë§ˆë¦¬ ì• ì§€ì¤‘ì§€ í‚¤ìš°ëŠ” ê°œë…</li>
</ul>
</li>
<li>ì¿ ë²„ë„¤í‹°ìŠ¤ : ì»¨í…Œì´ë„ˆ ë‹¤ìˆ˜ ê´€ë¦¬<ul>
<li>ë¯¸êµ­ì—ì„œ ì†Œ ë–¼ê±°ì§€ë¡œ ê´€ë¦¬í•˜ëŠ” ê°œë…</li>
</ul>
</li>
</ul>
<h2 id="3-docker">3. docker</h2>
<ul>
<li><a href="https://www.docker.com/">https://www.docker.com/</a></li>
<li>getting started : <a href="https://www.docker.com/get-started/">https://www.docker.com/get-started/</a></li>
<li>ubuntu docker ì„¤ì¹˜ : <a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></li>
</ul>
<h3 id="docker-repositories-ğŸ‘">docker repositories ğŸ‘</h3>
<ul>
<li>ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ì˜ ë ˆí¬ì§€í† ë¦¬ê°€ ìˆë‹¤.</li>
</ul>
<ol>
<li>docker ê³µì‹ ì‚¬ì´íŠ¸ (library)</li>
</ol>
<ul>
<li><a href="https://docs.docker.com/registry">https://docs.docker.com/registry</a></li>
</ul>
<ol start="2">
<li>dockerhub</li>
</ol>
<ul>
<li><a href="https://hub.docker.com/">https://hub.docker.com/</a></li>
</ul>
<ol start="3">
<li>ê° í´ë¼ìš°ë“œë§ˆë‹¤ docker ë ˆí¬ì§€í† ë¦¬ ì¡´ì¬í•¨. (Azure Container Registry)</li>
</ol>
<h3 id="docker-ubuntu-ì„¤ì¹˜-âœï¸">docker ubuntu ì„¤ì¹˜ âœï¸</h3>
<ul>
<li><a href="https://docs.docker.com/engine/install/ubuntu/#installation-methods">https://docs.docker.com/engine/install/ubuntu/#installation-methods</a></li>
</ul>
<ol>
<li>docker ì„¤ì¹˜ ì „ ì‚¬ì „ì‘ì—…<pre><code># Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
</code></pre></li>
</ol>
<h1 id="add-the-repository-to-apt-sources">Add the repository to Apt sources:</h1>
<p>echo <br />  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] <a href="https://download.docker.com/linux/ubuntu">https://download.docker.com/linux/ubuntu</a> <br />  $(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;) stable&quot; | <br />  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
sudo apt-get update</p>
<pre><code>
2. docker ì„¤ì¹˜
</code></pre><p>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</p>
<pre><code>
- ì„¤ì •ì°½ ë‚˜ì˜¤ë©´ íƒ­í‚¤ - ok


3. docker í…ŒìŠ¤íŠ¸</code></pre><p>sudo docker run hello-world</p>
<pre><code>- ë¡œì»¬ì— ìˆìœ¼ë©´ ì‹¤í–‰
- ë¡œì»¬ì— ì—†ë‹¤ë©´ ì¸í„°ë„·ì— ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ì°¾ì•„ ë‹¤ìš´ë¡œë“œí•˜ê³ , ì‹¤í–‰ì‹œí‚´
- ê¸°ë³¸ì ìœ¼ë¡œ ë„ì»¤ ë ˆí¬ì§€í† ë¦¬ì—ì„œ ì°¾ì•„ ê°€ì ¸ì˜¤ê³ , ë‹¤ë¥¸ ë ˆí¬ì§€í† ë¦¬ì—ì„œ ë‹¤ìš´ë¡œë“œë„ ê°€ëŠ¥í•˜ë‹¤.

4. ubuntu 18.04 ë‹¤ìš´ë¡œë“œ</code></pre><p>$ sudo docker pull ubuntu:18.04</p>
<p>18.04: Pulling from library/ubuntu
7c457f213c76: Pull complete
Digest: sha256:152dc042452c496007f07ca9127571cb9c29697f42acbfad72324b2bb2e43c98
Status: Downloaded newer image for ubuntu:18.04
docker.io/library/ubuntu:18.04</p>
<pre><code>- ubuntu ì›ë˜ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë ¤ë©´ ì—„ì²­ ì˜¤ë˜ê±¸ë¦¬ëŠ”ë°, í˜„ì¬ 22.04 ë²„ì „ ìœ„ì—ì„œ ë™ì‘í•˜ê³  ìˆìœ¼ë¯€ë¡œ ìŠ¤ëƒ…ìƒ·ì¸ 63MBë§Œ ë°›ìœ¼ë©´ ëœë‹¤. (íš¨ìœ¨ì ì´êµ°)

### docker ëª…ë ¹ì–´ âœï¸
1. **ë‹¤ìš´ë¡œë“œ ë°›ì€** docker ì´ë¯¸ì§€ í™•ì¸</code></pre><p>$ sudo docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
ubuntu        18.04     f9a80a55f492   7 months ago   63.2MB
hello-world   latest    d2c94e258dcb   8 months ago   13.3kB</p>
<pre><code>
2. **ì‹¤í–‰** ì¤‘ì¸ docker ì´ë¯¸ì§€ í™•ì¸</code></pre><p>$ sudo docker ps</p>
<p>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</p>
<pre><code>
3. docker **ì‹¤í–‰ ë‚´ì—­** í™•ì¸
</code></pre><p>$ sudo docker ps -a</p>
<p>CONTAINER ID   IMAGE         COMMAND    CREATED          STATUS                      PORTS     NAMES
31c0991209b4   hello-world   &quot;/hello&quot;   19 minutes ago   Exited (0) 19 minutes ago             zealous_cohen</p>
<pre><code>
4. docker ì´ë¯¸ì§€ **ì‹¤í–‰**, ubuntu:18.04 ì‹¤í–‰
- -it : interactive ëª¨ë“œ
   - ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ëª¨ë“œë¡œ ubuntu 18.04 í™˜ê²½ì— ì§„ì…í•  ìˆ˜ ìˆê²Œ ëœë‹¤
- -name : ë©”ëª¨ë¦¬ì—ì„œ docker ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰ì‹œí‚¬ ë•Œ ì´ë¦„ì„ ì§€ì •í•´ì¤Œ
- /bin/bash : bash shellì—ì„œ ì‹¤í–‰</code></pre><p>$ sudo docker run -it --name demo1 ubuntu:18.04 /bin/bash</p>
<p>root@06d4ae567214:/# ls
bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</p>
<pre><code>
5. ì´ë¯¸ì§€ì—ì„œ **ì ‘ì† ì¢…ë£Œ**</code></pre><p>root@06d4ae567214:/etc# exit
exit
winkey@labuser93ubuntu:~$</p>
<pre><code>

6. dockerë¥¼ **ê³„ì† ì‹¤í–‰**
- -d : daemon</code></pre><p>$ sudo docker run -it -d --name demo2 ubuntu:18.04
2e5aeafde515f253ae5653528951caededd5733d2874104afe49a4e2ecd7514f</p>
<p>$ sudo docker ps
CONTAINER ID   IMAGE          COMMAND       CREATED          STATUS          PORTS     NAMES
2e5aeafde515   ubuntu:18.04   &quot;/bin/bash&quot;   13 seconds ago   Up 12 seconds
demo2</p>
<pre><code>- container idë¥¼ í• ë‹¹ë°›ê³ , ë°±ê·¸ë¼ìš´ë“œì—ì„œ ê³„ì† ì‹¤í–‰ë˜ê³  ìˆëŠ” ìƒíƒœê°€ ë¨


7. **ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™€** ìˆëŠ” docker ì‹¤í–‰
- exec ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤.</code></pre><p>$ sudo docker exec -it demo2 /bin/bash
root@2e5aeafde515:/#</p>
<pre><code>
8. busybox ì‹¤í–‰ (docker í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€) ë° **ë¡œê·¸** ë³´ê¸°</code></pre><p>$ sudo docker run --name demo5 -d busybox sh -c &quot;while true;do
$(echo date);sleep 1; done&quot;</p>
<p>a3083ce2f910269d1e2fdcf718c6cf6e055fb9485c9b22d05240918b1894c799</p>
<pre><code>
- ë¡œê·¸ í™•ì¸</code></pre><p>$ sudo docker logs demo5</p>
<p>Thu Jan 11 03:27:26 UTC 2024
Thu Jan 11 03:27:28 UTC 2024
Thu Jan 11 03:27:29 UTC 2024
Thu Jan 11 03:27:30 UTC 2024
Thu Jan 11 03:27:31 UTC 2024
Thu Jan 11 03:27:32 UTC 2024</p>
<pre><code>
- ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸</code></pre><p>$ sudo docker logs demo5 -f</p>
<p>Thu Jan 11 03:27:26 UTC 2024
Thu Jan 11 03:27:28 UTC 2024
Thu Jan 11 03:27:29 UTC 2024
Thu Jan 11 03:27:30 UTC 2024
Thu Jan 11 03:27:31 UTC 2024
Thu Jan 11 03:27:32 UTC 2024
... ê³„ì† ë°˜ë³µ</p>
<pre><code>
8. ë©”ëª¨ë¦¬ì—ì„œ ì‹¤í–‰ì¤‘ì¸ ë„ì»¤ ì´ë¯¸ì§€ **ì‹¤í–‰ ì¤‘ë‹¨**
- docker stop</code></pre><p>$ sudo docker ps
CONTAINER ID   IMAGE          COMMAND                  CREATED             STATUS             PORTS     NAMES
a3083ce2f910   busybox        &quot;sh -c 'while true;dâ€¦&quot;   About an hour ago   Up About an hour             demo5
2e5aeafde515   ubuntu:18.04   &quot;/bin/bash&quot;              About an hour ago   Up About an hour             demo2</p>
<p>$ sudo docker stop demo5
demo5</p>
<p>$ sudo docker ps
CONTAINER ID   IMAGE          COMMAND       CREATED             STATUS             PORTS     NAMES
2e5aeafde515   ubuntu:18.04   &quot;/bin/bash&quot;   About an hour ago   Up About an hour             demo2</p>
<pre><code>
9. ë©”ëª¨ë¦¬ì— ì ì¬ëœ ë„ì»¤ ì´ë¯¸ì§€ **ì‚­ì œ**
- docker rm</code></pre><p>$ sudo docker ps -a
CONTAINER ID   IMAGE          COMMAND                  CREATED             STATUS                          PORTS     NAMES
a3083ce2f910   busybox        &quot;sh -c 'while true;dâ€¦&quot;   About an hour ago   Exited (137) 2 minutes ago                demo5
71c788454ee6   busybox        &quot;sh -c 'while true;dâ€¦&quot;   About an hour ago   Exited (2) About an hour ago              demo3
2e5aeafde515   ubuntu:18.04   &quot;/bin/bash&quot;              About an hour ago   Exited (0) About a minute ago             demo2
06d4ae567214   ubuntu:18.04   &quot;/bin/bash&quot;              2 hours ago         Exited (0) 2 hours ago                    demo1
31c0991209b4   hello-world    &quot;/hello&quot;                 2 hours ago         Exited (0) 2 hours ago                    zealous_cohen</p>
<p>$ sudo docker rm demo1 
demo1</p>
<p>$ sudo docker ps -a
CONTAINER ID   IMAGE          COMMAND                  CREATED             STATUS                         PORTS     NAMES
a3083ce2f910   busybox        &quot;sh -c 'while true;dâ€¦&quot;   About an hour ago   Exited (137) 4 minutes ago               demo5
71c788454ee6   busybox        &quot;sh -c 'while true;dâ€¦&quot;   About an hour ago   Exited (2) About an hour ago             demo3
2e5aeafde515   ubuntu:18.04   &quot;/bin/bash&quot;              2 hours ago         Exited (0) 3 minutes ago                 demo2
31c0991209b4   hello-world    &quot;/hello&quot;                 2 hours ago         Exited (0) 2 hours ago                   zealous_cohen</p>
<pre><code>

10. í•˜ë“œë””ìŠ¤í¬ì— ì¡´ì¬í•˜ëŠ” ë„ì»¤ ì´ë¯¸ì§€ ì‚­ì œ
- docker rmi
</code></pre><p>$ sudo docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
busybox       latest    9211bbaa0dbd   3 weeks ago    4.26MB
ubuntu        18.04     f9a80a55f492   7 months ago   63.2MB
hello-world   latest    d2c94e258dcb   8 months ago   13.3kB</p>
<p>$ sudo docker rmi busybox
Untagged: busybox:latest
Untagged: busybox@sha256:ba76950ac9eaa407512c9d859cea48114eeff8a6f12ebaa5d32ce79d4a017dd8
Deleted: sha256:9211bbaa0dbd68fed073065eb9f0a6ed00a75090a9235eca2554c62d1e75c58f
Deleted: sha256:82ae998286b2bba64ce571578647adcabef93d53867748d6046cc844ff193a83</p>
<p>$ sudo docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
ubuntu        18.04     f9a80a55f492   7 months ago   63.2MB
hello-world   latest    d2c94e258dcb   8 months ago   13.3kB</p>
<pre><code>
- ubuntu ì‚­ì œ : íŠ¹ì • ë²„ì „ìœ¼ë¡œ ì •í–ˆìœ¼ë©´ ì´ë¯¸ì§€ì˜ ì´ë¦„ê³¼ ë²„ì „ì„ ê°™ì´ ëª…ì‹œí•´ì¤˜ì•¼ ì‚­ì œê°€ ê°€ëŠ¥í•˜ë‹¤</code></pre><p>$ sudo docker rmi ubuntu:18.04
Untagged: ubuntu:18.04
Untagged: ubuntu@sha256:152dc042452c496007f07ca9127571cb9c29697f42acbfad72324b2bb2e43c98
Deleted: sha256:f9a80a55f492e823bf5d51f1bd5f87ea3eed1cb31788686aa99a2fb61a27af6a
Deleted: sha256:548a79621a426b4eb077c926eabac5a8620c454fb230640253e1b44dc7dd7562</p>
<pre><code>


### Dockerfile ëª…ë ¹ì–´ âœï¸

- Dockerfile ìƒì„±</code></pre><p>touch Dockerfile</p>
<pre><code>
#### FROM
- Dockerfile ì´ base imageë¡œ ì–´ë–¤ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ê²ƒì¸ì§€ë¥¼ ëª…ì‹œí•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.</code></pre><p>FROM [:] [AS ]</p>
<h1 id="ì˜ˆì‹œ">ì˜ˆì‹œ</h1>
<p>FROM ubuntu
FROM ubuntu:18.04
FROM ngix:latest AS ngx</p>
<pre><code>

#### COPY
- `&lt;src&gt;`ì˜ íŒŒì¼ í˜¹ì€ ë””ë ‰í† ë¦¬ë¥¼ `&lt;dest&gt;` ê²½ë¡œì— ë³µì‚¬í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
</code></pre><p>COPY ... </p>
<h1 id="ì˜ˆì‹œ-1">ì˜ˆì‹œ</h1>
<p>COPY a.txt /some-directory/b.txt
COPY my-directory /some-directory-2</p>
<pre><code>

#### RUN
- ëª…ì‹œí•œ ì»¤ë§¨ë“œë¥¼ ë„ì»¤ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ëª…ì‹œí•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.</code></pre><p>RUN <command />
RUN [&quot;excutable-command&quot;, 'parameter1', 'parameter2']</p>
<h1 id="ì˜ˆì‹œ-2">ì˜ˆì‹œ</h1>
<p>RUN pip install torch
RUN pip install -r requirements.txt</p>
<pre><code>
#### CMD
- ëª…ì‹œí•œ ì»¤ë§¨ë“œë¥¼ ë„ì»¤ ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë  ë•Œ, ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ëª…ì‹œí•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
   - vs RUN : ë„ì»¤ê°€ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ(ì„¤ì •) ì‹¤í–‰ëœë‹¤
   - ë°˜ë©´ CMDëŠ” dockerê°€ run ë  ë•Œ ë§ˆë‹¤ ì‹¤í–‰ë¨
   - í•˜ë‚˜ì˜ docker ì´ë¯¸ì§€ëŠ” í•˜ë‚˜ì˜ CMDë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤
</code></pre><p>CMD <command /> 
CMD [&quot;executable-command&quot;, &quot;parameter1&quot;, &quot;parameter2&quot;] 
CMD [&quot;parameter1&quot;, &quot;parameter2&quot;] # ENTRYPOINT ì™€ í•¨ê»˜ ì‚¬ìš©ë  ë•Œ </p>
<h1 id="ì˜ˆì‹œ-3">ì˜ˆì‹œ</h1>
<p>CMD python main.py 
CMD </p>
<pre><code>

#### WORKDIR
- ì´í›„ ì‘ì„±ë  ëª…ë ¹ì–´ë¥¼ ì»¨í…Œì´ë„ˆ ë‚´ì˜ ì–´ë–¤ ë””ë ‰í† ë¦¬ì—ì„œ ìˆ˜í–‰í•  ê²ƒì¸ì§€ë¥¼ ëª…ì‹œí•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
- í•´ë‹¹ ë””ë ‰í† ë¦¬ê°€ ì—†ë‹¤ë©´ ìƒì„±í•©ë‹ˆë‹¤.</code></pre><p>WORKDIR /path/to/workdir </p>
<h1 id="ì˜ˆì‹œ-4">ì˜ˆì‹œ</h1>
<p>WORKDIR /home/demo</p>
<pre><code>

#### ENV
- ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì§€ì†ì ìœ¼ë¡œ ì‚¬ìš©ë  environment variableì˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
</code></pre><p>ENV   
ENV = </p>
<h1 id="ì˜ˆì‹œ-5">ì˜ˆì‹œ</h1>
<h1 id="default-ì–¸ì–´-ì„¤ì •">default ì–¸ì–´ ì„¤ì •</h1>
<p>RUN locale-gen ko_KR.UTF-8 
ENV LANG ko_KR.UTF-8 
ENV LANGUAGE ko_KR.UTF-8 
ENV LC_ALL ko_KR.UTF-8</p>
<pre><code>

#### EXPOSE
- ì»¨í…Œì´ë„ˆì—ì„œ ëš«ì–´ì¤„ í¬íŠ¸/í”„ë¡œí† ì½œì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- protocolì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ TCPê°€ ë””í´íŠ¸ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.
</code></pre><p>EXPOSE  
EXPOSE / </p>
<h1 id="ì˜ˆì‹œ-6">ì˜ˆì‹œ</h1>
<p>EXPOSE 8080</p>
<pre><code>


### Dockerfile ì‹¤ìŠµ âœï¸
1. Dockerfile ë§Œë“¤ê¸°</code></pre><p>vi Dockerfile</p>
<pre><code></code></pre><p>FROM ubuntu:18.04</p>
<p>RUN apt-get update</p>
<p>CMD [&quot;echo&quot;, &quot;Hello Docker&quot;]</p>
<pre><code>
2. ë‚´ê°€ ë§Œë“  Dockerfile ** ë¹Œë“œ**</code></pre><p>sudo docker build -t my-image:v1.0.0 .</p>
<pre><code>
3. docker ì‹¤í–‰</code></pre><p>sudo docker run my-image:v1.0.0</p>
<pre><code>
#### docker registryë¡œ push
1. **docker registry** ì‹¤í–‰
- ë„ì»¤ì˜ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì„¤ì¹˜í•˜ì—¬ ì‹¤í–‰
- 5000ë²ˆ</code></pre><p>sudo docker run -d -p 5000:5000 --name registry registry</p>
<pre><code>
2. my-imageë¥¼ ë°©ê¸ˆ ìƒì„±í•œ registryë¥¼ ë°”ë¼ë³´ë„ë¡ **tag**
- tag ëª…ë ¹ì–´ë¥¼ í†µí•´ repositoryë¥¼ ì–´ë””ì— ì—°ê²°í•  ì§€ ê²°ì •í•  ìˆ˜ ìˆë‹¤.
- **ë§í¬ëœ ê²ƒ**, git remote origin addì™€ ë¹„ìŠ·í•˜ë‹¤.</code></pre><p>$ sudo docker tag my-image:v1.0.0 localhost:5000/my-image:v1.0.0</p>
<p>$ sudo docker images
REPOSITORY                TAG       IMAGE ID       CREATED          SIZE
my-image                  v1.0.0    bf450d7aa616   23 minutes ago   109MB
localhost:5000/my-image   v1.0.0    bf450d7aa616   23 minutes ago   109MB
registry                  latest    909c3ff012b7   5 weeks ago      25.4MB</p>
<pre><code>
3. my-imageë¥¼ registryì— **push**</code></pre><p>$ sudo docker push localhost:5000/my-image:v1.0.0
The push refers to repository [localhost:5000/my-image]
b5858e8710d9: Pushed
548a79621a42: Pushed
v1.0.0: digest: sha256:16982bd2cd1153fe0a9b875396f3881862b6a6c77e6f788b5b5d7575b345dff8 size: 741</p>
<pre><code>

#### dockerhubë¡œ push
- &lt;https://hub.docker.com/&gt;

1. docker loginìœ¼ë¡œ dockerhubì— ë¡œê·¸ì¸</code></pre><p>$ sudo docker login
Log in with your Docker ID or email address to push and pull images from Docker Hub. If you don't have a Docker ID, head over to <a href="https://hub.docker.com/">https://hub.docker.com/</a> to create one.
You can log in with your password or a Personal Access Token (PAT). Using a limited-scope PAT grants better security and is required for organizations using SSO. Learn more at <a href="https://docs.docker.com/go/access-tokens/">https://docs.docker.com/go/access-tokens/</a></p>
<p>Username: newnyup319
Password:
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
<a href="https://docs.docker.com/engine/reference/commandline/login/#credentials-store">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</a></p>
<p>Login Succeeded</p>
<pre><code>
2. dockerhubë¡œ **tag**
</code></pre><p>sudo docker tag my-image:v1.0.0 newnyup319/my-image:v1.0.0</p>
<pre><code></code></pre><p>$ sudo docker images
REPOSITORY                TAG       IMAGE ID       CREATED          SIZE
my-image                  v1.0.0    bf450d7aa616   43 minutes ago   109MB
newnyup319/my-image       v1.0.0    bf450d7aa616   43 minutes ago   109MB
localhost:5000/my-image   v1.0.0    bf450d7aa616   43 minutes ago   109MB
registry                  latest    909c3ff012b7   5 weeks ago      25.4MB</p>
<pre><code>
3. dockerhubë¡œ **push**
</code></pre><p>$ sudo docker push newnyup319/my-image:v1.0.0
The push refers to repository [docker.io/newnyup319/my-image]
b5858e8710d9: Pushed
548a79621a42: Mounted from library/ubuntu
v1.0.0: digest: sha256:9e9bddec89c0b29a3fc8ac560f52cc3aa47ffedb7d03ad550c4215a555fec1a7 size: 741</p>
<pre><code>
![](https://velog.velcdn.com/images/rimgosu/post/5e1aac44-8e23-4be1-b65d-1f2468b625d4/image.png)

- ì„±ê³µì ìœ¼ë¡œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.




# azure cv cat vs dog âœ…

![](https://velog.velcdn.com/images/rimgosu/post/d281163f-e8ff-44a3-818b-73cfc7c22682/image.png)


## 1. azureì—ì„œ computer vision ìƒì„±
- azure portal - ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ - RG93 - ë§Œë“¤ê¸° - computer vision

![](https://velog.velcdn.com/images/rimgosu/post/19a30e7b-499f-47b1-83be-0e360f3e5704/image.png)


![](https://velog.velcdn.com/images/rimgosu/post/9034f910-d7f6-40ff-9d10-bdf241b6f021/image.png)

- ë§Œë“¤ê³ , í‚¤ ë° ì—”ë“œí¬ì¸íŠ¸ - í‚¤ì™€ ì£¼ì†Œ ë³µì‚¬í•˜ê³  colab

![](https://velog.velcdn.com/images/rimgosu/post/cdce0e8d-8d55-4151-841d-31dde4d6997a/image.png)

![](https://velog.velcdn.com/images/rimgosu/post/03b2b0b8-09d2-4511-a5ea-4b146b9093d1/image.png)


## 2. ì´ë¯¸ì§€ ë¶„ì„ - colab
### ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°</code></pre><p>image_url = '<a href="https://cdn.huffingtonpost.kr/news/photo/201602/22260_43420.jpeg'">https://cdn.huffingtonpost.kr/news/photo/201602/22260_43420.jpeg'</a></p>
<p>from PIL import Image
from io import BytesIO
import requests</p>
<p>Image.open(BytesIO(requests.get(image_url).content))</p>
<pre><code>

### key, endpoint ì—°ê²°</code></pre><p>key = '[keyë¥¼ ì…ë ¥í•˜ì„¸ìš”]'
endpoint = '<a href="https://labuser93computervision.cognitiveservices.azure.com/'">https://labuser93computervision.cognitiveservices.azure.com/'</a>
endpoint = endpoint + 'vision/v2.0/'</p>
<p>analyze_endpoint = endpoint + 'analyze' # ë¶„ì„
detect_endpoint = endpoint + 'detect' # ê°ì²´ íƒì§€
ocr_endpoint = endpoint + 'ocr' # ê¸€ì ì¸ì‹</p>
<p>headers = {'Ocp-Apim-Subscription-Key': key}
params = {'visualFeatures': 'Categories,Description,Color'}
data = {'url': image_url}</p>
<pre><code>
### analyze (íƒœê·¸ ë‹¬ì•„ì£¼ê¸°)</code></pre><p>response = requests.post(analyze_endpoint,
                         headers=headers,
                         params=params,
                         json=data)
result = response.json()
result['description'] </p>
<pre><code>
#### analyze ê²°ê³¼</code></pre><p>{'tags': ['sitting',
  'cat',
  'brown',
  'indoor',
  'dog',
  'looking',
  'animal',
  'staring',
  'camera',
  'standing',
  'tan',
  'front',
  'table',
  'laying',
  'close',
  'orange',
  'bed'],
 'captions': [{'text': 'a close up of a dog and a cat looking at the camera',
   'confidence': 0.8600456236335963}]}</p>
<pre><code>- google í¬í† ì—ì„œ 'ë¸Œë¡¤ìŠ¤íƒ€ì¦ˆ'ë¥¼ ê²€ìƒ‰í•˜ë©´ ë‚˜ì˜¤ëŠ” ì›ë¦¬ë¡œ, íƒœê·¸ë¥¼ ë‹¬ í•­ëª©ì„ ì°¾ì•„ì¤€ë‹¤. _ë¯¸ì³¤ìŒ_


### detect (ê°ì²´ íƒì§€)
</code></pre><h1 id="object-detection">Object Detection</h1>
<p>response = requests.post(detect_endpoint,
                         headers=headers,
                         json=data)</p>
<p>result = response.json()
result</p>
<pre><code>
#### detect ê²°ê³¼
- ê°œì™€ ê³ ì–‘ì´ ê°ì²´ ì„±ê³µì ìœ¼ë¡œ íƒì§€í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</code></pre><p>{'objects': [{'rectangle': {'x': 195, 'y': 53, 'w': 360, 'h': 493},
   'object': 'dog',
   'confidence': 0.92,
   'parent': {'object': 'mammal',
    'confidence': 0.934,
    'parent': {'object': 'animal', 'confidence': 0.935}}},
  {'rectangle': {'x': 0, 'y': 235, 'w': 260, 'h': 317},
   'object': 'cat',
   'confidence': 0.869,
   'parent': {'object': 'mammal',
    'confidence': 0.88,
    'parent': {'object': 'animal', 'confidence': 0.881}}}],
 'requestId': '179b4ac2-6cd9-4b8e-8afb-b74e7092fa6a',
 'metadata': {'height': 552, 'width': 570, 'format': 'Jpeg'}}</p>
<pre><code></code></pre>